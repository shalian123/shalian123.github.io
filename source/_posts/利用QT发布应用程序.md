---
title: 利用QT发布应用程序
date: 2017-03-22 22:15:05
tags: [数据库,qt]
categories: QT

---
由于项目的需要，最近一直在看qt应用程序设计，具体研究了QT自带的数据库SQLite,同时将它与登陆界面结合开发了一个小的应用程序，在此也算是一个小的阶段的收获。下面我具体谈谈我在开发过程中遇到的一些问题。
#### 1.设置程序图标，
 一开始我是直接将文件名后缀改为.ico,但是发现这样不行，编译时会无法识别。在此我推荐两种方法：
 （1）可以到网上直接下载.ico格式的图片。（2）下载.ico图标转换工具或者到一些在线转换网站上制作。
#### 2.编译release版本
#### 3.发布时一般有两种方式，静态编译和动态编译。
  静态编译虽然没有附加很多的.dll文件，但是库文件很大，更新版本不方便，每次升级都要重新分发所有内容。
  动态编译需要添加许多文件，在这里我一开始按照书上的方法做了，但是后来发现到别人pc上还是会提醒无法建立数据库(如果自己去复制dll，很可能丢三落四，导致exe在别的电脑里无法正常运行)。因此在这里我重点介绍另外一种简单的发布方法。
####   推荐使用官方的windeployqt。
  (1)编译完成后，进入项目生成的release文件夹里，将exe复制到一个单独的文件夹（比如桌面上新建的qt），用于发布。
  (2)进入qt文件夹，按住shift，右击鼠标，打开命令窗口，然后使用 windeployqt 工具命令：比如windeployqt qt.exe
  (3)然后可以在 桌面:\qt 文件夹里看到 windeployqt 工具自动复制的插件文件夹和 dll文件、qm文件。这时候得到的就完整的 exe 程序发布集合，依赖关系都解决好了。
  附上我的程序界面：
  1.数据库登陆界面
  ![](http://ols4zt49w.bkt.clouddn.com/%60%7B%28U1J%29WWY%60%5D%5BJCT%7D@06~YF.png)
  2.数据库界面
  ![](http://ols4zt49w.bkt.clouddn.com/%5BX@QE%60%7D1DX%7B%60W%5D~O7R73SKQ.png)
总结：桌面图形窗口应用设计可以有很多种方法，qt主要应用在嵌入式行业，它的一大优势是支持跨平台，不仅支持pc（windows），linux，android等，也支持mac os x等平台，相信qt的应用及发展还是不错的，有兴趣的人可以一起交流学习。
（在程序发布解决过程中参考了http://m.blog.csdn.net/article/details?id=56848407）
最后，附上我编写并发布的软件下载地址，有兴趣的可以下载查看：(http://ols4zt49w.bkt.clouddn.com/qt%E7%AC%AC%E4%B8%80%E4%B8%AA%E5%8F%91%E5%B8%83%E7%A8%8B%E5%BA%8F.zip)